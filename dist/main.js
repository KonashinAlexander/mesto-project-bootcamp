(()=>{"use strict";var e=document.querySelector("#popup_profile"),t=document.querySelector("#popup_card"),n=document.querySelector("#popup_picture"),r=document.querySelector(".profile__edit-button"),o=document.querySelector(".card__add-button"),c=n.querySelector("#image"),i=n.querySelector("#text"),u=n.querySelector(".popup__close-button");function l(e){e.classList.remove("popup_opened")}function a(e,t){"Escape"===e&&l(t)}var d=document.querySelector(".elements");function s(e,t){var r=document.querySelector("#card").content.querySelector(".element").cloneNode(!0);return r.querySelector(".element__picture").src=t,r.querySelector(".element__picture").alt=e,r.querySelector(".element__text").textContent=e,r.querySelector(".element__trash-button").addEventListener("click",(function(e){e.target.closest(".element").remove()})),r.querySelector(".element__like-button").addEventListener("click",(function(e){e.target.classList.toggle("element__like-button_color_black")})),r.querySelector(".element__picture").addEventListener("click",(function(e){var t;t=e.target,n.classList.add("popup_opened"),n.style.backgroundColor="rgba(0 0 0 / 0.9)",c.src=t.src,i.textContent=t.alt,u.addEventListener("click",(function(e){l(n)}))})),r}function p(e){d.prepend(e)}var m=t.querySelector("#line-3"),_=t.querySelector("#line-4"),f=document.querySelector(".profile__title"),v=document.querySelector(".profile__subtitle"),y=function(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove("form__button_inactive"),t.removeAttribute("disabled")):t.classList.add("form__button_inactive")};[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){p(s(e.name,e.link))})),t.addEventListener("submit",(function(e){e.preventDefault(),p(s(m.value,_.value)),_.value="",m.value="",l(t)})),r.addEventListener("click",(function(){e.classList.add("popup_opened"),e.querySelector(".popup__close-button").addEventListener("click",(function(t){l(e)}))})),o.addEventListener("click",(function(){t.classList.add("popup_opened"),t.querySelector(".popup__close-button").addEventListener("click",(function(e){l(t)}))})),e.addEventListener("submit",(function(t){t.preventDefault(),f.textContent=e.querySelector("#line-1").value,v.textContent=e.querySelector("#line-2").value,l(e)})),Array.from(document.querySelectorAll(".form")).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e){var t=Array.from(e.querySelectorAll(".form__item")),n=e.querySelector(".form__button");y(t,n),t.forEach((function(r){r.addEventListener("input",(function(){!function(e,t){t.validity.valid?function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove("form__item_type_error"),n.classList.remove("form__item-error_active"),n.textContent=""}(e,t):function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.add("form__item_type_error"),r.textContent=n,r.classList.add("form__item-error_active")}(e,t,t.validationMessage)}(e,r),y(t,n)}))}))}(e)})),document.addEventListener("click",(function(e){var t;(t=e.target).classList.contains("popup_opened")&&l(t)})),document.addEventListener("keydown",(function(t){return a(t.key,e)})),document.addEventListener("keydown",(function(e){return a(e.key,t)})),document.addEventListener("keydown",(function(e){return a(e.key,n)}))})();